{% extends 'admin.html' %}
{% block content %}
<!DOCTYPE html>
<html lang="en">

<head>
   <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>

<body>
   <form method="post" class="container mt-5">
      {% csrf_token %}
      <h1 class="text-center">Assign Employees to Bookings</h1>
      <div class="form-group">
         <label for="employeeSelect">Select Employee</label>
         <select name="employee" class="form-control" id="employeeSelect">
            {% for employee in employees %}
            <option value="{{ employee.employee_id }}">{{ employee.name }}</option>
            {% endfor %}
         </select>
      </div>
      <div class="form-group">
         <label for="bookingSelect">Select Booking</label>
         <select name="booking" class="form-control" id="bookingSelect">
            {% for booking in servbookings %}
            <option value="{{ booking.id }}">{{ booking.customer.name }} - {{ booking.service.name }}</option>
            {% endfor %}
         </select>
      </div>
      <div class="form-group">
         <label for="datetimeInput">Select Date and Time</label>
         <input type="datetime-local" name="datetime" class="form-control" id="datetimeInput">
      </div>
      <button type="submit" class="btn btn-primary">Assign Employee</button>
   </form>
<div class="container">
   <div class="table-wrapper">
      <div class="table-title">
         <div class="row">
            <div class="col-sm-6">
               <h2>Manage <b>Employee Schedules</b></h2>
            </div>
         </div>
      </div>
      <table class="table table-striped table-hover">
         <thead>
            <tr>
               <th>Schedule ID</th>
               <th>Datetime</th>
               <th>Employee ID</th>
               <th>Service Booking ID</th>
               <th>Customer</th>
               <th>Actions</th>
            </tr>
         </thead>
         <tbody>
            {% for i in schedule %}
            <tr>
               <td>{{i.id}}</td>
               <td>{{i.datetime}}</td>
               <td>{{i.employee.employee_id}}</td>
               <td>{{i.servbooking.id}}</td>
               <td>{{i.servbooking.customer.name}}</td>
               <td>
                  <a href="#editScheduleModal-{{forloop.counter}}" class="edit" data-bs-toggle="modal">
                     <span class="material-symbols-outlined" data-toggle="tooltip" title="Edit">
                        edit
                     </span>
                  </a>
                  <a href="#deleteScheduleModal-{{forloop.counter}}" class="delete" data-bs-toggle="modal">
                     <span class="material-symbols-outlined" data-toggle="tooltip" title="Delete">
                        delete
                     </span>
                  </a>
               </td>
            </tr>
            {% endfor %}
         </tbody>
      </table>
   </div>
</div>
   <!-- Bootstrap JS and jQuery -->
   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>
{% endblock %}