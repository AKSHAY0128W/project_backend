<!DOCTYPE html>
<html>

<head>
   <title>Payment Form</title>
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
   <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

   <style>
      body {
         display: grid;
         place-items: center;
         font-family: 'Roboto', sans-serif;
         background:
            linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
            url("https://img.freepik.com/free-photo/businessmen-hands-white-table-with-documents-drafts_176420-351.jpg?w=1060&t=st=1708168145~exp=1708168745~hmac=b649a0b1cf3182c106d508337c378cd8a0d61724b95da3459b70fa8cddc286a1");
         background-size: cover;
         background-repeat: no-repeat;
         height: 100vh;
      }

      .container {
         border: 1px solid #fff;
         outline: none;
         background-color: transparent;
         max-width: 500px;
         border-radius: 10px;
         padding: 20px;
         backdrop-filter: blur(10px);
      }


      .pay-btn {
         display: flex;
         justify-content: center;
         align-items: center;
      }

      .pay-btn a {
         color: #fff;
         padding: 11px 25px;
         width: 100%;
         text-decoration: none;
         font-size: 20px;
      }

      h1 {
         color: #fff;
         text-align: center;
         padding: 20px;
         border-bottom: 1px solid white;
      }



      .form-control {
         background-color: transparent;
         outline: none;
         border: 1px solid #fff;
         padding: 10px;
         font-size: 20px;
         font-weight: 600;
         color: #fff;
         border-radius: 5px;
      }

      .form-control:focus {
         box-shadow: none;
         border: 1px solid #fff;
         color: #333;
      }

      label {
         font-size: 20px;
         font-weight: 500;
         color: #fff;
      }

      #expiry {
         padding: 10px !important;
         color: #555;
      }

      #expiry::-webkit-calendar-picker-indicator {
         filter: invert(1);
      }

      .s-name,
      .s-price {
         background-color: #555 !important;
         color: #f2f2f2 !important;
      }
   </style>

</head>

<body>
   <div class="container">
      <form action="{% url 'make_payment' id=service_id %}" method="post">
         {% csrf_token %}
         <div class="heading row">
            <div class="col-12">

               <div class="row">
                  <!-- Remove the extra 'd' character -->
                  <div class="col-12">
                     <div class="mb-3">
                        <label for="serviceName" class="form-label">Service Name</label>
                        <input type="text" name="serviceName" id="serviceName" class="s-name form-control"
                           placeholder="" aria-describedby="helpId" readonly value="{{ service_name }}" />
                     </div>
                     <div class="mb-3">
                        <label for="servicePrice" class="form-label">Service Price</label>
                        <input type="text" name="servicePrice" id="servicePrice" class="s-price form-control"
                           placeholder="" aria-describedby="helpId" readonly value="{{ service_price }}" />
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-12">
               <div class="mb-3">
                  <label for="cardHolderName" class="form-label">Card Holder Name </label>
                  <input type="text" name="cardHolderName" id="cardHolderName" class="form-control" placeholder=""
                     aria-describedby="helpId" />
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-12">
               <div class="mb-3">
                  <label for="cardNumber" class="form-label">Card Number</label>
                  <input type="text" name="cardNumber" id="cardNumber" class="form-control" placeholder=""
                     aria-describedby="helpId" maxlength="19" />
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-6">
               <div class="mb-3">
                  <label for="expiry" class="form-label">Expiry</label>
                  <input type="month" name="expiry" id="expiry" class="form-control" placeholder=""
                     aria-describedby="helpId" />
               </div>
            </div>

            <div class="col-6">
               <div class="mb-3">
                  <label for="" class="form-label">CVV</label>
                  <input type="text" name="" id="" maxlength="3" class="form-control" placeholder=""
                     aria-describedby="helpId" />
               </div>
            </div>
         </div>
         <div class="pay-btn">
            <button type="submit" class="btn btn-primary pxs-4">Pay Now</button>
         </div>
      </form>
   </div>
</body>
<script>
   window.onload = function () {
      var date = new Date();
      var month = date.getMonth() + 1;
      var year = date.getFullYear();
      month = (month < 10) ? '0' + month : month; // prepend 0 if month is less than 10
      document.getElementById('expiry').min = year + '-' + month;

      document.getElementById('cardNumber').addEventListener('input', function (e) {
         e.target.value = e.target.value.replace(/[^\dA-Z]/g, '').replace(/(.{4})/g, '$1 ').trim();
      });

      document.getElementById('cardHolderName').addEventListener('input', function (e) {
         e.target.value = e.target.value.replace(/[0-9]/g, '');
      });
   }
</script>

</html>